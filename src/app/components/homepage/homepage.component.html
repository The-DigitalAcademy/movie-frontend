<div class="overlay" id="overlay" [class.active]="isSidebarActive" (click)="closeSidebar()"></div>

<div class="sidebar" id="sidebar" [class.active]="isSidebarActive">
    <h2 style="margin-bottom: 20px;">Menu</h2>
    <div class="sidebar-item active" (click)="navigateTo('/home')">
        <span>ğŸ¬</span> Movie Genres
    </div>
    <div class="sidebar-item" (click)="navigateTo('/watchlist')">
        <span>ğŸ“</span> Create Watchlist
    </div>
    <div class="sidebar-item" (click)="navigateTo('/favorites')">
        <span>ğŸ©µ</span> Favorites
    </div>
</div>

<div class="container">âˆš
    <div class="top-bar">
        <div class="menu-icon" id="menuBtn" (click)="toggleSidebar()">â˜°</div>
        <div class="app-icon">
            <img src="../../../assets/images/NuAgeBiskopLOGO.jpeg" alt="NuAgeBiskop Logo" style="height: 24px; vertical-align: middle;">
        </div>
        <div class="search-box">
            <input type="text" placeholder="Search movies..." id="searchInput">
            <span class="search-icon">ğŸ”</span>
        </div>
        <button *ngIf="!isUserSession" class="sign-up-btn" (click)="navigateTo('/signin')">Sign In</button>
         <button *ngIf="isUserSession" class="sign-up-btn" (click)="logout()">Logout</button>
    </div>

    <div class="content" id="content">
        <div id="homePage">
            <div class="hero-slideshow">
                <div class="slides-container">
                    <div 
                        *ngFor="let slide of heroSlides; let i = index" 
                        class="slide"
                        [class.active]="i === currentSlideIndex">
                        <img [src]="slide.image" [alt]="slide.title">
                        <div class="slide-content">
                            <h1>{{ slide.title }}</h1>
                            <p *ngIf="slide.description">{{ slide.description }}</p>
                        </div>
                    </div>
                </div>

                <button class="slide-arrow prev" (click)="previousSlide()" aria-label="Previous slide">
                    â€¹
                </button>
                <button class="slide-arrow next" (click)="nextSlide()" aria-label="Next slide">
                    â€º
                </button>

                <div class="slide-dots">
                    <button 
                        *ngFor="let slide of heroSlides; let i = index"
                        class="dot"
                        [class.active]="i === currentSlideIndex"
                        (click)="goToSlide(i)"
                        [attr.aria-label]="'Go to slide ' + (i + 1)">
                    </button>
                </div>
            </div>

            <h2 class="section-title">Latest Movie Releases</h2>

            <div class="movie-grid" id="movieGrid">
                <div *ngFor="let movie of displayMovies">
                    <app-movie-card [movie]="movie" [showFavoriteButton]="true"></app-movie-card>
                </div>
            </div>

            <div *ngIf="totalPages > 1" class="pagination-controls" style="display: flex; justify-content: center; align-items: center; gap: 15px; margin: 20px 0 40px;">
                <button 
                    (click)="previousPage()" 
                    [disabled]="!canGoPrevious()"
                    class="sign-up-btn" style="padding: 10px 20px;"
                >
                    &lt; Previous
                </button>
                
                <span style="color: #ffffff; font-weight: bold;">
                    Page {{ currentPage }} of {{ totalPages }}
                </span>
                
                <button 
                    (click)="nextPage()" 
                    [disabled]="!canGoNext()" 
                    class="sign-up-btn" style="padding: 10px 20px;"
                >
                    Next &gt;
                </button>
            </div>
            </div>

        <div id="favoritesPage" style="display: none;">
            <h2 class="section-title">My Favorites</h2>
            <div class="movie-grid" id="favoritesGrid"></div>
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-state-icon">â­</div>
                <h3>No favorites yet</h3>
                <p>Start adding movies to your favorites!</p>
            </div>
        </div>

        <div id="watchlistPage" style="display: none;">
            <h2 class="section-title">Create Watchlist</h2>
            <div class="empty-state">
                <div class="empty-state-icon">ğŸ“</div>
                <h3>Watchlist Feature</h3>
                <p>Coming soon!</p>
            </div>
        </div>
    </div>

    <div class="footer">

        2025 NuAgeBiskop Â©
    </div>
</div>